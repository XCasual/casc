jenkins:
  systemMessage: "Jenkins configured using CasC v.108 - ${MASTER_DOMAIN}"
  agentProtocols:
    - "Diagnostic-Ping"
    - "JNLP4-connect"
    - "OperationsCenter2"
    - "Ping"
  crumbIssuer:
    standard:
      excludeClientIPFromCrumb: false
  disableRememberMe: false
  labelAtoms:
    - name: "cb-core-maven"
    - name: "cloudbees-core"
    - name: "master"
  markupFormatter: "plainText"
  mode: NORMAL
  myViewsTabBar: "standard"
  numExecutors: 1
  primaryView:
    all:
      name: "all"
  projectNamingStrategy:
    pattern:
      description: "My naming strategy"
      forceExistingJobs: false
      namePattern: ".*"
  quietPeriod: 5
  remotingSecurity:
    enabled: true
  scmCheckoutRetryCount: 0
  securityRealm: "operationsCenter"
  slaveAgentPort: 50000
  updateCenter:
    sites:
      - id: "virtual-cap-core-mm"
        url: "https://jenkins-updates.cloudbees.com/update-center/envelope-core-mm/update-center.json"
  views:
    - all:
        name: "all"
  viewsTabBar: "standard"
jobs:
  - script: |
      multibranchPipelineJob('configuration-as-code') {
          branchSources {
              git {
                  id = 'configuration-as-code'
                  remote('https://github.com/jenkinsci/configuration-as-code-plugin.git')
              }
          }
      }

      organizationFolder('GH-jenkinsci') {
          description('This contains branch source jobs for GH-jenkinsci GitHub')
          displayName('GH-jenkinsci')
          triggers {
            periodic(2400)
          }
          organizations {
            github {
              repoOwner("cccaternberg")
              apiUri("https://api.github.com")
              credentialsId('githubaccesstoken')
              traits {
                publicRepoPullRequestFilterTrait()
              }
            }
          }

          projectFactories {
            workflowMultiBranchProjectFactory {
              // Relative location within the checkout of your Pipeline script.
              scriptPath("Jenkinsfile")
            }
          }
        }
cloudbees-monitoring:
  conditionList:
    - individualHealthCheck:
        alertAfter: "5sec"
        name: "health check"
        recipientList:
          - email:
              emailAddresses: "acaternberg@cloudbees.com"
              subjectPrefix: "[Jenkins Alert]"
beekeeper:
  enabled: true
  securityWarnings:
    enabledForCore: true
    enabledForPlugins: true
  upgrades:
    autoDowngradePlugins: false
    autoUpgradePlugins: false
notificationConfiguration:
  enabled: false
kube:
  podTemplatesConfiguration:
    templates:
      - containers:
          - args: "cat"
            command: "/bin/sh -c"
            image: "maven:3.3.9-jdk-8-alpine"
            livenessProbe:
              failureThreshold: 0
              initialDelaySeconds: 0
              periodSeconds: 0
              successThreshold: 0
              timeoutSeconds: 0
            name: "maven"
            ttyEnabled: true
            workingDir: "/home/jenkins/agent"
          - args: "cat"
            command: "/bin/sh -c"
            image: "appropriate/curl"
            livenessProbe:
              failureThreshold: 0
              initialDelaySeconds: 0
              periodSeconds: 0
              successThreshold: 0
              timeoutSeconds: 0
            name: "curl"
            ttyEnabled: true
            workingDir: "/home/jenkins/agent"
          - args: "cat"
            command: "/bin/sh -c"
            image: "gradle"
            livenessProbe:
              failureThreshold: 0
              initialDelaySeconds: 0
              periodSeconds: 0
              successThreshold: 0
              timeoutSeconds: 0
            name: "gradle"
            ttyEnabled: true
            workingDir: "/home/jenkins/agent"
          - args: "cat"
            command: "/bin/sh -c"
            image: "lachlanevenson/k8s-kubectl:latest"
            livenessProbe:
              failureThreshold: 0
              initialDelaySeconds: 0
              periodSeconds: 0
              successThreshold: 0
              timeoutSeconds: 0
            name: "kubectl"
            ttyEnabled: true
            workingDir: "/home/jenkins/agent"
          - args: "cat"
            command: "/bin/sh -c"
            image: "lachlanevenson/k8s-helm:latest"
            livenessProbe:
              failureThreshold: 0
              initialDelaySeconds: 0
              periodSeconds: 0
              successThreshold: 0
              timeoutSeconds: 0
            name: "helm"
            ttyEnabled: true
            workingDir: "/home/jenkins/agent"
        hostNetwork: false
        instanceCap: 10
        instanceCapStr: "10"
        label: "cloudbees-core"
        name: "cloudbees-core"
        slaveConnectTimeout: 10000
        slaveConnectTimeoutStr: "10000"
        volumes:
          - persistentVolumeClaim:
              claimName: "maven-repo"
              mountPath: "/tmp/cache"
              readOnly: false
        yamlMergeStrategy: "override"
      - containers:
          - args: "cat"
            command: "/bin/sh -c"
            image: "maven:3.3.9-jdk-8-alpine"
            livenessProbe:
              failureThreshold: 0
              initialDelaySeconds: 0
              periodSeconds: 0
              successThreshold: 0
              timeoutSeconds: 0
            name: "maven"
            ttyEnabled: true
            workingDir: "/home/jenkins/agent"
        hostNetwork: false
        label: "cb-core-maven"
        name: "cb-core-maven"
        nodeUsageMode: NORMAL
        volumes:
          - hostPathVolume:
              hostPath: "/var/run/docker.sock"
              mountPath: "/var/run/docker.sock"
        yamlMergeStrategy: "override"
      - containers:
          - args: "cat"
            command: "/bin/sh -c"
            image: "benhall/dind-jenkins-agent"
            livenessProbe:
              failureThreshold: 0
              initialDelaySeconds: 0
              periodSeconds: 0
              successThreshold: 0
              timeoutSeconds: 0
            name: "dind"
            ttyEnabled: true
            workingDir: "/home/jenkins/agent"
        hostNetwork: false
        name: "dind-podtemplate"
        volumes:
          - hostPathVolume:
              hostPath: "/var/run/docker.sock"
              mountPath: "/var/run/docker.sock"
        yamlMergeStrategy: "override"
security:
  anonymizeSupportBundle:
    enabled: false
  apiToken:
    creationOfLegacyTokenEnabled: false
    tokenGenerationOnCreationEnabled: false
    usageStatisticsEnabled: true
  globalJobDslSecurityConfiguration:
    useScriptSecurity: true
  sSHD:
    port: -1
  scriptApproval:
    approvedSignatures:
      - "method com.cloudbees.jenkins.plugins.sshcredentials.SSHUserPrivateKey getPrivateKey"
      - "method com.cloudbees.plugins.credentials.common.IdCredentials getId"
      - "method com.cloudbees.plugins.credentials.common.PasswordCredentials getPassword"
      - "method com.cloudbees.plugins.credentials.common.UsernameCredentials getUsername"
      - "method hudson.model.ItemGroup getAllItems java.lang.Class"
      - "method hudson.model.Job getLastBuild"
      - "method org.apache.maven.model.Model getGroupId"
      - "new com.cwctravel.hudson.plugins.extended_choice_parameter.ExtendedChoiceParameterDefinition\
      \ java.lang.String java.lang.String java.lang.String java.lang.String java.lang.String\
      \ java.lang.String java.lang.String java.lang.String java.lang.String java.lang.String\
      \ java.lang.String java.lang.String java.lang.String java.lang.String java.lang.String\
      \ java.lang.String java.lang.String java.lang.String java.lang.String java.lang.String\
      \ java.lang.String java.lang.String java.lang.String java.lang.String java.lang.String\
      \ java.lang.String boolean boolean int java.lang.String java.lang.String"
      - "staticMethod com.cloudbees.plugins.credentials.CredentialsProvider lookupCredentials\
      \ java.lang.Class hudson.model.ItemGroup org.acegisecurity.Authentication java.util.List"
unclassified:
  alerter:
    conditionList:
      - individualHealthCheck:
          alertAfter: "5sec"
          name: "health check"
          recipientList:
            - email:
                emailAddresses: "acaternberg@cloudbees.com"
                subjectPrefix: "[Jenkins Alert]"
  artifactManager:
    artifactManagerFactories:
      - "jSync"
  bitbucketEndpointConfiguration:
    endpoints:
      - bitbucketCloudEndpoint:
          enableCache: false
          manageHooks: false
          repositoriesCacheDuration: 0
          teamCacheDuration: 0
  buildDiscarders:
    configuredBuildDiscarders:
      - "jobBuildDiscarder"
  experimentalPlugins:
    enabled: false
  fingerprints:
    fingerprintCleanupDisabled: false
    storage: "file"
  gitHubConfiguration:
    apiRateLimitChecker: ThrottleForNormalize
  gitHubPluginConfig:
    hookUrl: "https://cb-core.caternberg.eu/${MASTER_DOMAIN}/github-webhook/"
  gitSCM:
    addGitTagAction: false
    allowSecondFetch: false
    createAccountBasedOnEmail: false
    disableGitToolChooser: false
    hideCredentials: false
    showEntireCommitSummaryInChanges: false
    useExistingAccountWithSameEmail: false
  hibernationConfiguration:
    activities:
      - "build"
      - "web"
    enabled: false
    gracePeriod: 120
  junitTestResultStorage:
    storage: "file"
  location:
    adminAddress: "address not configured yet <nobody@nowhere>"
    url: "https://cb-core.caternberg.eu/${MASTER_DOMAIN}/"
  mailer:
    charset: "UTF-8"
    useSsl: false
    useTls: false
  pollSCM:
    pollingThreadCount: 10
  usageStatisticsCloudBees:
    usageStatisticsCollected: true
tool:
  cloudbeesPluginUsageAnalyzer:
    enabled: true
  git:
    installations:
      - home: "git"
        name: "Default"
  mavenGlobalConfig:
    globalSettingsProvider: "standard"
    settingsProvider: "standard"